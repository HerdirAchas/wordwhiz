<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>WordWhiz</title>
<style>
body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }
input { padding: 8px; margin: 5px; width: 160px; }
button { padding: 10px 20px; margin: 10px; cursor: pointer; }
.grid { display: grid; grid-template-columns: repeat(9, 32px); gap: 3px; justify-content: center; margin-top: 20px; }
.cell { width: 32px; height: 32px; border: 1px solid #ccc; display:flex; align-items:center; justify-content:center; font-weight:bold; }
#shareLink { margin-top: 15px; font-size: 14px; }
</style>
</head>
<body>

<h1>WordWhiz</h1>
<p>Create a word search and share it ❤️</p>

<div id="inputArea">
  <input id="w1" placeholder="Word 1">
  <input id="w2" placeholder="Word 2">
  <input id="w3" placeholder="Word 3">
  <input id="w4" placeholder="Word 4">
  <input id="w5" placeholder="Word 5">
  <br>
  <button onclick="generate()">Create Puzzle</button>
</div>

<div class="grid" id="grid"></div>
<div id="shareLink"></div>

<script>
const size = 9;

function generate(wordsFromUrl=null){
  let words = wordsFromUrl || [
    w1.value.toUpperCase(),
    w2.value.toUpperCase(),
    w3.value.toUpperCase(),
    w4.value.toUpperCase(),
    w5.value.toUpperCase()
  ].filter(w => w.length > 0);

  if(words.length === 0) return;

  let grid = Array(size).fill().map(()=>Array(size).fill(""));

  // Place words horizontally
  words.forEach((word,i)=>{
    let row = i % size;
    for(let j=0;j<word.length && j<size;j++){
      grid[row][j] = word[j];
    }
  });

  // Fill random letters
  for(let r=0;r<size;r++){
    for(let c=0;c<size;c++){
      if(grid[r][c]===""){
        grid[r][c] = String.fromCharCode(65 + Math.floor(Math.random()*26));
      }
    }
  }

  const gridDiv = document.getElementById("grid");
  gridDiv.innerHTML="";
  grid.forEach(row=>{
    row.forEach(cell=>{
      let d=document.createElement("div");
      d.className="cell";
      d.textContent=cell;
      gridDiv.appendChild(d);
    });
  });

  // Create shareable link
  let url = window.location.origin + "?words=" + words.join(",");
  document.getElementById("shareLink").innerHTML =
    "Share this puzzle:<br><a href='"+url+"' target='_blank'>"+url+"</a>";

  document.getElementById("inputArea").style.display="none";
}

// If page opened with words in URL → auto-generate
const params = new URLSearchParams(window.location.search);
if(params.get("words")){
  generate(params.get("words").split(","));
}
</script>

</body>
</html>
